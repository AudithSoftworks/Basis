mysql56:
  image: mysql:5.6
  environment:
    - MYSQL_DATABASE=basis
    - MYSQL_ALLOW_EMPTY_PASSWORD=true
postgres94:
  image: postgres:9.4
redis:
  image: redis
phpFpm:
  image: audithsoftworks/basis:php_7-fpm
  volumes:
    - .:/home/basis
  working_dir: /home/basis
  links:
    - mysql56
    - postgres94
    - redis
  environment:
    XDEBUG_CONFIG: remote_host=172.17.0.1
nginx:
  image: audithsoftworks/basis:nginx
  volumes:
    - ./storage/build/configs/nginx.conf:/etc/nginx/conf.d/default.conf:ro
    - .:/home/basis
  working_dir: /home/basis
  links:
    - phpFpm
phpCli:
  image: audithsoftworks/basis:php_7
  volumes:
    - .:/home/basis
  working_dir: /home/basis
  links:
    - mysql56
    - postgres94
    - redis
    - nginx
  environment:
    XDEBUG_CONFIG: remote_host=172.17.0.1
  stdin_open: true
